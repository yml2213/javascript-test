// https://app.dewu.com/hacking-game-center/v1/sign/sign?sign=fe26befc49444d362c8f17463630bdba

// curl -k -X POST -H 'Referer: https://m.dewu.com/' -H 'isRoot: 0' -H 'appid: h5' -H 'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 15_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148/duapp/4.89.1' -H 'deviceTrait: iPhone' -H 'Host: app.dewu.com' -H 'emu: 0' -H 'isProxy: 0' -H 'Cookie: sajssdk_2015_cross_new_user=1; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2217fc45e62de4e3-092d16f75c7f43-193d113b-329160-17fc45e62df190%22%2C%22first_id%22%3A%22%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%2C%22%24latest_referrer%22%3A%22%22%7D%2C%22%24device_id%22%3A%2217fc45e62de4e3-092d16f75c7f43-193d113b-329160-17fc45e62df190%22%7D; smidV2=20220326115629d1e78817af2c6496ee73af05704c498900b9c4d1c464da7a0; x-auth-token=Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiVVVJRGU4NTAzYThiM2YxMDRhYmNhN2NmMGFlYmMwMDc5ODgzIiwidXNlcklkIjoxODY0MzQ0NjIwLCJleHAiOjE2Nzk4MDI5NzEsImlhdCI6MTY0ODI2Njk3MSwiaXNzIjoiVVVJRGU4NTAzYThiM2YxMDRhYmNhN2NmMGFlYmMwMDc5ODgzIiwic3ViIjoiVVVJRGU4NTAzYThiM2YxMDRhYmNhN2NmMGFlYmMwMDc5ODgzIn0.oBa-GZCp8acqy7uGrfhasPvlqaPzGXKjIoewRmLOOWo0pCPka7bwL8ZiNGgck0Z2o37rv0Za9XRItX51m6c6DglnLWcd48eAOsj8Z516Xy_3olUUKKGS9czGw50F4ib1t4Lnz-Gi63PPr-WFq3Wq-7upAD7c8A6w9ghBSVFGZjW-iw0jif3MI50TQmrtCv2Z4YzFiz0zrmbZN9mWo2199PbuXZA08a56AS0SsP1bnApjztSi3EMXlzZ9HLw6aOUoQcm5ry8gxGVg4vpLvMoS2qTcNWHMx0camxQdgk6RF7vBIylSQRK7QzqoZq-20zF03_bgljYGD4sXXm1z0_3Q3w; duToken=d41d8cd9|1864344620|1648266971|563de6a620f8811c' -H 'imei: ' -H 'channel: App Store' -H 'appVersion: 4.89.1' -H 'uuid: UUIDe8503a8b3f104abca7cf0aebc0079883' -H 'Origin: https://m.dewu.com' -H 'ua: Mozilla/5.0 (iPhone; CPU iPhone OS 15_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148/duapp/4.89.1' -H 'shumeiId: 20220326115546ddff22af81e9a9406a8bf9a157767a5000e2c561eb3d3d75' -H 'x-auth-token: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiVVVJRGU4NTAzYThiM2YxMDRhYmNhN2NmMGFlYmMwMDc5ODgzIiwidXNlcklkIjoxODY0MzQ0NjIwLCJleHAiOjE2Nzk4MDI5NzEsImlhdCI6MTY0ODI2Njk3MSwiaXNzIjoiVVVJRGU4NTAzYThiM2YxMDRhYmNhN2NmMGFlYmMwMDc5ODgzIiwic3ViIjoiVVVJRGU4NTAzYThiM2YxMDRhYmNhN2NmMGFlYmMwMDc5ODgzIn0.oBa-GZCp8acqy7uGrfhasPvlqaPzGXKjIoewRmLOOWo0pCPka7bwL8ZiNGgck0Z2o37rv0Za9XRItX51m6c6DglnLWcd48eAOsj8Z516Xy_3olUUKKGS9czGw50F4ib1t4Lnz-Gi63PPr-WFq3Wq-7upAD7c8A6w9ghBSVFGZjW-iw0jif3MI50TQmrtCv2Z4YzFiz0zrmbZN9mWo2199PbuXZA08a56AS0SsP1bnApjztSi3EMXlzZ9HLw6aOUoQcm5ry8gxGVg4vpLvMoS2qTcNWHMx0camxQdgk6RF7vBIylSQRK7QzqoZq-20zF03_bgljYGD4sXXm1z0_3Q3w' -H 'platform: h5' -H 'Connection: keep-alive' -H 'sk: 9Ja8KiGeMTqTPDTyQWAookcfH2MTMN3XLhJlCVEUJOGngVZkSxRWlJ6iDd26xnABdVfDKxQwkfSfHnjgUQYZCkEUPH1w' -H 'Content-Type: application/json;charset=utf-8' -H 'duToken: d41d8cd9|1864344620|1648266971|563de6a620f8811c' -d '{}' 'https://app.dewu.com/hacking-game-center/v1/sign/sign?sign=fe26befc49444d362c8f17463630bdba'




loginToken: '44b65d78|1864344620|99b8c657333b9545'
platform: h5
uuid: UUIDe8503a8b3f104abca7cf0aebc0079883
v: '4.89.1'
	
	

/**
 * sign的计算方法如下：
 * 把 url中的参数放入map中
 * 把uuid、platform、v、loginToken放入map中
 * 对map中的元素按key进行排序
 * 把map中的元素按keyvalue形式拼接成字符串
 * 在字符串末尾拼接一个常量字符串
 * 计算字符串的md5
*/

`
app_id: "800066591657",
method: "tp.trade.confirm",
sign: "",
sign_type: "MD5",
timestamp: String(t.timestamp),
trade_no: t.tradeNo,
merchant_id: "1900006659",
uid: s.default.state.openId,
total_amount: t.amount,
pay_channel: "ALIPAY_NO_SIGN",
pay_type: "ALIPAY_APP",
risk_info: JSON.stringify({
ip: t.clientIp
}),
params: JSON.stringify({
url: e
})
`
 r = [ "app_id=" + n.app_id, "sign_type=" + n.sign_type, "timestamp=" + n.timestamp, "trade_no=" + n.trade_no, "merchant_id=" + n.merchant_id, "uid=" + n.uid, "total_amount=" + n.total_amount, "params=" + n.params ];
r.sort();
var i = r.join("&") + "1vz85az8vzuq3prjk7827byzzbbcrprsmvfkvzd0";



loginToken: '44b65d78|1864344620|99b8c657333b9545'
platform: h5
uuid: UUIDe8503a8b3f104abca7cf0aebc0079883
v: '4.89.1'
	
let aa = `{loginToken=44b65d78|1864344620|99b8c657333b9545, platform=h5, uuid=UUIDe8503a8b3f104abca7cf0aebc0079883, v=4.89.1}`
let aa1 = `{loginToken=44b65d78|1864344620|99b8c657333b9545&platform=h5&uuid=UUIDe8503a8b3f104abca7cf0aebc0079883&v=4.89.1&1vz85az8vzuq3prjk7827byzzbbcrprsmvfkvzd0}`


let bb = `loginToken44b65d78|1864344620|99b8c657333b9545platformh5uuidUUIDe8503a8b3f104abca7cf0aebc0079883v4.89.11vz85az8vzuq3prjk7827byzzbbcrprsmvfkvzd0`


fe26befc49444d362c8f17463630bdba



r = [ "app_id=" + n.app_id, "sign_type=" + n.sign_type, "timestamp=" + n.timestamp, "trade_no=" + n.trade_no, "merchant_id=" + n.merchant_id, "uid=" + n.uid, "total_amount=" + n.total_amount, "params=" + n.params ];
r.sort();
var i = r.join("&") + "1vz85az8vzuq3prjk7827byzzbbcrprsmvfkvzd0";




`app_id=xxxx&sign_type=xxxx&timestamp=xxxxx&trade_no=xxx&merchant_id=xxxx&uid=xxxx&total_amount=xxxx&params=xxxx&1vz85az8vzuq3prjk7827byzzbbcrprsmvfkvzd0`


loginToken: 'd41d8cd9|1864344620|1648266971|563de6a620f8811c'
platform: h5
uuid: UUIDe8503a8b3f104abca7cf0aebc0079883
v: '4.89.1'


duToken=d41d8cd9|1864344620|1648266971|563de6a620f8811c&platform=h5&uuid=UUIDe8503a8b3f104abca7cf0aebc0079883&v=4.89.1&1vz85az8vzuq3prjk7827byzzbbcrprsmvfkvzd0